### Manual 3.0 (Edición Curada): Guía Turística con Contenido Estático

Esta guía está adaptada al nuevo enfoque: la app es una guía de lugares promocionados por ti. Las imágenes y datos de estos lugares son parte del proyecto. Los usuarios se registran y opinan sobre ellos.

---

#### **Filosofía de esta Guía:**

*   **Enfoque Simplificado:** Eliminamos la necesidad de un servicio de "Storage" en la nube, haciendo el backend más sencillo.
*   **Tú tienes el Control:** La información de los lugares se gestiona directamente en el código, dándote control total sobre el contenido promocionado.
*   **Seguridad y Claridad:** Mantenemos los principios de seguridad y los pasos detallados de la versión 2.0.

---

#### **Paso 0: Prerrequisitos (Sin cambios)**

*   Node.js (versión LTS), una cuenta de Google, y VS Code.

---

#### **Paso 1: Configuración del Backend en Firebase (Versión Simplificada)**

1.  **Crea tu proyecto en Firebase** en la consola de Firebase.

2.  **Activa los ÚNICOS dos servicios que necesitas:**
    *   **Authentication:**
        *   Ve a **Authentication** -> **Sign-in method**.
        *   Habilita **Email/Contraseña** y **Google**.
    *   **Firestore Database:**
        *   Ve a **Firestore Database** -> "Crear base de datos".
        *   Inicia en **modo de producción**.

    **¡No actives Firebase Storage! No lo necesitamos.**

---

#### **Paso 2: Creación del Proyecto Frontend (Sin cambios)**

```bash
npm create vite@latest guia-turistica-app -- --template react
cd guia-turistica-app
npm install
```

---

#### **Paso 3: Conexión Segura de React con Firebase (Simplificado)**

1.  **Instala la librería de Firebase:**
    ```bash
    npm install firebase
    ```

2.  **Configura las Variables de Entorno:**
    *   Sigue el método de crear un archivo `.env.local` que se explicó en el manual 2.0. Es la forma más segura.
    *   Obtén tus credenciales desde la configuración del proyecto en Firebase (ícono `</>`).

    ```env
    # .env.local (Añádelo a .gitignore)
    VITE_FIREBASE_API_KEY="AIza..."
    VITE_FIREBASE_AUTH_DOMAIN="tu-proyecto.firebaseapp.com"
    VITE_FIREBASE_PROJECT_ID="tu-proyecto"
    VITE_FIREBASE_MESSAGING_SENDER_ID="1234567890"
    VITE_FIREBASE_APP_ID="1:1234567890:web:abcdef123456"
    ```
    (Nota: No necesitamos `STORAGE_BUCKET`).

3.  **Crea el archivo de configuración de Firebase:**
    *   En `src`, crea `firebaseConfig.js`.

    ```javascript
    // src/firebaseConfig.js
    import { initializeApp } from "firebase/app";
    import { getFirestore } from "firebase/firestore";
    import { getAuth } from "firebase/auth";
    // No importamos getStorage

    const firebaseConfig = {
      apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
      authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
      projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
      messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
      appId: import.meta.env.VITE_FIREBASE_APP_ID
    };

    const app = initializeApp(firebaseConfig);

    // Exportamos solo los servicios que usaremos
    export const db = getFirestore(app);
    export const auth = getAuth(app);
    ```

---

#### **Paso 4: Reglas de Seguridad de Firestore (Simplificadas)**

Como los lugares ya no están en la base de datos, las reglas son más sencillas.

1.  En la consola de Firebase, ve a **Firestore Database** -> **Reglas**.
2.  Reemplaza todo con esto:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Reglas para perfiles de usuario
    match /users/{userId} {
      allow read, update: if request.auth != null && request.auth.uid == userId;
      allow create: if request.auth != null;
    }

    // Reglas para las reseñas
    // Cualquiera puede leerlas, pero solo usuarios autenticados pueden crearlas.
    match /reviews/{reviewId} {
      allow read: if true;
      allow create: if request.auth != null;
    }
  }
}
```
3.  Haz clic en **Publicar**.

---

#### **Paso 5: Gestionar los Lugares (¡Nuevo Enfoque!)**

Aquí está el cambio más grande. La información de los lugares vive en tu proyecto.

1.  **Crea las carpetas:**
    *   En la raíz de tu proyecto, crea `public/images/places`. Aquí guardarás las imágenes de los lugares (ej. `restaurante-1.jpg`, `parque-central.jpg`).
    *   Dentro de `src`, crea una carpeta `data`.

2.  **Crea el archivo de datos de lugares:**
    *   Dentro de `src/data`, crea el archivo `places.js`.

    ```javascript
    // src/data/places.js

    // Las rutas de las imágenes apuntan a la carpeta 'public'.
    // Cuando la app se construya, estas rutas funcionarán directamente.
    export const placesData = [
      {
        id: 'p1',
        name: 'Restaurante El Buen Sabor',
        description: 'El mejor lugar para disfrutar de comida tradicional. Platos abundantes y ambiente familiar.',
        imagePath: '/images/places/restaurante-1.jpg' // Ruta desde la carpeta 'public'
      },
      {
        id: 'p2',
        name: 'Parque Central',
        description: 'Un oasis de tranquilidad en medio de la ciudad. Ideal para pasear y relajarse.',
        imagePath: '/images/places/parque-central.jpg'
      },
      {
        id: 'p3',
        name: 'Museo de Arte Moderno',
        description: 'Explora las obras de artistas contemporáneos en un edificio icónico.',
        imagePath: '/images/places/museo-arte.jpg'
      }
      // ...añade aquí todos los lugares que quieras promocionar
    ];
    ```

3.  **Añade tus imágenes:**
    *   Consigue las imágenes que definiste en `places.js` y colócalas dentro de la carpeta `public/images/places/`.

---

#### **Paso 6: Componentes de React (Actualizados)**

Ahora, tus componentes leerán los datos de `places.js` en lugar de Firestore.

1.  **Componente `PlaceList.jsx` (Ejemplo):**
    *   Crea el archivo `src/components/PlaceList.jsx`.

    ```jsx
    // src/components/PlaceList.jsx
    import React from 'react';
    // Importamos los datos directamente desde nuestro archivo local
    import { placesData } from '../data/places';

    const PlaceList = () => {
      return (
        <div>
          <h2>Lugares Recomendados</h2>
          <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>
            {placesData.map(place => (
              <div key={place.id} style={{ border: '1px solid #ccc', padding: '10px' }}>
                <h3>{place.name}</h3>
                <img src={place.imagePath} alt={place.name} style={{ maxWidth: '300px' }} />
                <p>{place.description}</p>
                {/* Aquí podrías añadir un enlace a una página de detalles para ver reseñas */}
              </div>
            ))}
          </div>
        </div>
      );
    };

    export default PlaceList;
    ```

2.  **Modifica `App.jsx` para probar:**
    *   Reemplaza el contenido de `src/App.jsx`.

    ```jsx
    // src/App.jsx
    import React from 'react';
    import PlaceList from './components/PlaceList';
    import './App.css';

    function App() {
      return (
        <div className="App">
          <header className="App-header">
            <h1>Guía Turística</h1>
            <PlaceList />
            {/* También podrías añadir aquí el componente de Registro/Login */}
          </header>
        </div>
      );
    }

    export default App;
    ```

3.  **Verificación:**
    *   Corre `npm run dev`.
    *   Deberías ver la lista de lugares con sus imágenes y descripciones directamente en tu página. Si es así, ¡felicidades! Has implementado con éxito la arquitectura de contenido estático.

---

#### **Paso 7: Autenticación y Reseñas**

*   La implementación del registro de usuarios (`Register.jsx`) del manual 2.0 sigue siendo válida.
*   Para las **reseñas**, cuando un usuario cree una, la guardarás en la colección `reviews` de Firestore. El documento de la reseña deberá incluir a qué lugar pertenece, por ejemplo, guardando el `place.id` (ej. 'p1', 'p2') del lugar sobre el que se está opinando.

---

#### **Paso 8: Despliegue (Sin cambios)**

El proceso de despliegue con Firebase Hosting es exactamente el mismo que en el manual 2.0.

1.  `firebase init` (configurando `dist` como directorio público y `Yes` para la SPA).
2.  `npm run build` (esto empaquetará tu React app junto con los datos de `places.js` y las imágenes de la carpeta `public`).
3.  `firebase deploy`

Tu aplicación estará online, sirviendo todo el contenido (app, datos e imágenes) desde el rápido CDN de Firebase.
